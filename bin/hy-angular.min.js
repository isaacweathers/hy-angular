angular.module("hySplitPanel",[]),angular.module("hySplitPanel").directive("hySplitPanel",function(){return{template:"<div class='split-parent'><aside class='panel-left'><div class=\" splitter-bar\" ng-click='toggleLeftBar()'> <div class='panel-left-arrow'></div> </div><div class=\"panel-content\"></div></aside><aside class='panel-right'><div class=\" splitter-bar\" ng-click='toggleRightBar()'> <div class='panel-right-arrow'></div> </div><div class=\"panel-content\"></div></aside><section class='panel-main'></section></div>",restrict:"E",transclude:!0,link:function(a,b,c,d,e){var f=b[0],g=angular.element(f.querySelector(".split-parent"));g[0].id=c.splitPaneId||"";var h=c.leftWidth||"8px",i=c.rightWidth||"8px",j=c.defaultOpen||!1,k=c.defaultOpen||!1,l=!1,m=!1,n=angular.element(f.querySelector("aside.panel-left")),o=angular.element(f.querySelector("aside.panel-left .panel-content")),p=angular.element(f.querySelector("aside.panel-right")),q=angular.element(f.querySelector("aside.panel-right .panel-content")),r=angular.element(f.querySelector("aside.panel-left .splitter-bar > div")),s=angular.element(f.querySelector("aside.panel-right .splitter-bar > div")),t=b.find("section"),u=a.$eval(c.expandEvent)||function(){},v=a.$eval(c.collapseEvent)||function(){};e(a,function(a){for(var b=0;b<a.length;b++){var c=angular.element(a[b]);c.hasClass("leftPane")&&(o.append(a[b]),l=!0),c.hasClass("contentPane")&&t.append(a[b]),c.hasClass("rightPane")&&(q.append(a[b]),m=!0)}m||p.remove(),l||n.remove()});var w=function(){j?(n.css("width",h),t.css("left",h),u(),j=!1):(n.css("width","8px"),t.css("left","8px"),v(),j=!0),r.toggleClass("panel-left-arrow"),r.toggleClass("panel-right-arrow")},x=function(){k?(p.css("width",i),t.css("right",i),u(),k=!1):(p.css("width","8px"),t.css("right","8px"),v(),k=!0),s.toggleClass("panel-left-arrow"),s.toggleClass("panel-right-arrow")};a.toggleLeftBar=w,a.toggleRightBar=x,j&&(r.toggleClass("panel-left-arrow"),r.toggleClass("panel-right-arrow")),k&&(s.toggleClass("panel-left-arrow"),s.toggleClass("panel-right-arrow")),l&&w(),m&&x()}}}),angular.module("hyImage",[]),angular.module("hyImage").directive("hyImage",function(a,b){var c=function(a,b){for(var c=0,d=b.length-1;d>=0;d--)a>b[d]&&(c=b[d]);return 0===c&&(c=b[b.length-1]),c},d=function(a,b){var c=1;b.sort(function(a,b){return b-a});for(var d=b.length-1;d>=0;d--)a>=b[d]&&(c=b[d]);return 1===c?"":"-"+c+"x"},e=function(e,f,g,h,i,j){var k=c(f,g),l=b.devicePixelRatio||1,m=d(l,h);j.realImage=e.replace("||width||",k).replace("||pixelRatio||",m);var n=i.find("img"),o=angular.element(n[0]);return o.on("load",function(){j.imgLoaded=!0,j.$apply()}),a(function(){j.$apply()}),k};return{template:'<div><img ng-show="imgLoaded" ng-src="{{realImage}}"></img><img ng-hide="imgLoaded" src="{{imgSrc}}"></img></div>',restrict:"E",replace:!0,scope:{},link:function(a,b,c){a.imageTempUrl=c.imgSrc,a.imgLoaded=!1;var d=a.$eval(c.sizes),f=a.$eval(c.pixel)||[1,2,3];d.sort(function(a,b){return b-a});var g=b.parent(),h=g[0].offsetWidth;0===h&&(h=g.css("width").slice(0,-2)),angular.element(window).on("resize",function(){h!==g[0].offsetWidth&&(e(i,h,d,f,b,a),h=g[0].offsetWidth)});var i=a.imageTempUrl,j=e(i,h,d,f,b,a);a.imgSrc="http://placehold.it/"+j,c.$observe("imgSrc",function(c){e(c,h,d,f,b,a)})}}});